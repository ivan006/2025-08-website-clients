import{S as g}from"./TestEntity.js";import{_ as h}from"./index.js";import{t as l,o as r,F as p,v as y,H as f,D as u,I as _,r as v,p as x}from"./vendor.js";import"./BasicModel.js";const C={name:"TestEntity-list",components:{},props:{fetchFlags:{type:Object,default:()=>({})}},data(){return{items:[],loading:!1,loadingError:!1,options:{page:1,itemsPerPage:10,sortBy:[],groupBy:[]},filterValsRef:{}}},computed:{superTableModel(){return g},filterValsComp(){return{...this.filterValsRef}}},methods:{clickRow(e,t){this.$router.push({name:"/lists/brands/:rId/:rName",params:{rId:e,rName:t.name}})},colClasses(e=12){e=+e;const t={lg:1,md:1.5,sm:2,xs:4};function o(c){return[1,2,3,4,6,12].reduce((d,m)=>Math.abs(m-c)<Math.abs(d-c)?m:d)}const i=o(e*t.lg),s=o(e*t.md),a=o(e*t.sm),n=o(e*t.xs);return`col-${i} col-lg-${i} col-md-${s} col-sm-${a} col-xs-${n}`},async fetchData(){try{this.loading=!0,this.loadingError=!1;let e=[],t={},o={};const i=await this.superTableModel.FetchAll([],{...e,...o,...this.fetchFlags},t,{page:this.options.page,limit:this.options.itemsPerPage,filters:this.filterValsComp,clearPrimaryModelOnly:!1});this.items=i.response.data.records.map(s=>({id:s.id,createdTime:s.createdTime,...s.fields})),this.loading=!1}catch{this.loading=!1,this.loadingError=!0}}},mounted(){this.fetchData()}},k={key:0,class:"text-center q-pa-md"},T={key:1,class:"text-center q-pa-md text-grey-5"},$={key:1,class:"row q-col-gutter-md justify-center"},E={class:"q-card q-mx-auto",style:{height:"100%",overflow:"hidden"}},F=["onClick"];function N(e,t,o,i,s,a){return r(),l("div",null,[s.items.length?(r(),l("div",$,[(r(!0),l(p,null,y(s.items,n=>(r(),l("div",{key:n.name,class:f(a.colClasses(3))},[u("div",E,[u("div",{style:"cursor: pointer",onClick:c=>a.clickRow(n),class:f(a.colClasses(12))},t[0]||(t[0]=[_('<div class="q-pa-xs q-mb-sm" style="min-height:1.375rem;"><div><div><div class="text-bold" style="visibility:visible;">Name: </div><div class="" style=""><span class=""><div title="KETO" style="overflow:hidden;">KETO</div></span></div></div></div></div>',1)]),10,F)])],2))),128))])):(r(),l(p,{key:0},[s.loading?(r(),l("div",k,"Loading...")):(r(),l("div",T,"None"))],64))])}const V=h(C,[["render",N]]),q={name:"Brand-list-controller",components:{TestEntityList:V},data(){return{parentKeyValuePair:{},fetchFlags:{}}}};function w(e,t,o,i,s,a){const n=v("test-entity-list");return r(),l("div",null,[x(n,{fetchFlags:s.fetchFlags},null,8,["fetchFlags"])])}const O=h(q,[["render",w]]);export{O as default};
